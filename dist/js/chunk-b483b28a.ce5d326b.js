(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b483b28a"],{"013c":function(t,e,a){"use strict";a("a4e7")},a4e7:function(t,e,a){},f4f2:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("students-order",{attrs:{side:"admin",type:"exams"}})},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"page-title"},[t._v(t._s(t._f("translate")("ترتيب مجموع امتحانات الطلبة")))]),a("div",{staticClass:"contaner _inputs1"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.stage,expression:"filter.stage"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"stage",e.target.multiple?a:a[0])},t.doFilter]}},t._l(t.$store.getters.stages,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),0)]),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.unit,expression:"filter.unit"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"unit",e.target.multiple?a:a[0])}}},[t._l(t.units,(function(e){return a("option",{key:e._id,domProps:{value:e.number}},[t._v(" "+t._s(e.name)+" ")])})),a("option",{domProps:{value:null}},[t._v("All")])],2)]),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.examId,expression:"filter.examId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"examId",e.target.multiple?a:a[0])}}},[t._l(t.exams,(function(e){return a("option",{key:e._id,domProps:{value:e._id}},[t._v(" "+t._s(e.name)+" ")])})),a("option",{domProps:{value:null}},[t._v("All")])],2)])]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-4"},[a("button",{staticClass:"btn btn-success",attrs:{disabled:!t.filter.unit},on:{click:t.doFilter}},[t._v(" Filter ")])])])]),a("br"),a("hr"),a("h3",{staticClass:"text-center",staticStyle:{"font-weight":"bolder",color:"#fff","background-color":"#537175"}},[t._v(" "+t._s(t._f("translate")("ترتيب الطلبة"))+" ")]),0==t.degrees.length?a("div",{staticClass:"center"},[a("h3",{staticClass:"text-center"},[t._v(t._s(t._f("translate")("لا يوجد طلبة")))])]):t._e(),a("div",{staticClass:"table-responsive",staticStyle:{height:"700px","overflow-y":"scroll"}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",{staticStyle:{"background-color":"rgba(91, 103, 108, 0.17)"}},[t._l(t.degrees,(function(e,r){return a("tr",{key:r,staticStyle:{border:"1px solid #444"}},[a("td",[a("div",{staticClass:"padge"},[t._v(t._s(r+1))])]),a("td",{staticStyle:{width:"100%"}},[a("div",{staticClass:"student text-center"},[t._v(t._s(e._id))]),a("div",{staticClass:"progress mt-2"},[a("span",[t._v("("+t._s(e.totalDegree)+" / "+t._s(t.fullDegree)+")")]),a("div",{staticClass:"progressbar bg-dark",style:{width:t.getPercetage(e.totalDegree)+"%"}},[t._v(" "+t._s(t._f("round")(t.getPercetage(e.totalDegree)))+"% ")])])])])})),t.loading?a("loading",{staticClass:"mx-auto"}):t._e()],2)])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"th-sm"},[t._v("الترتيب")]),a("th",{staticClass:"th-sm"},[t._v("التقدم المحرز")])])])}],i=(a("4de4"),a("d81d"),a("d3b7"),a("25f0"),a("96cf"),a("1da1")),o=a("5530"),c=a("bc3a"),u=a.n(c),d=a("e375"),f={components:{ProgressBar:d["a"]},props:["side","type"],created:function(){var t=this;u.a.get("/getExamsNamesAndIds").then((function(e){return t.allExams=e.data.exams}))},data:function(){return{unit:null,allExams:[],degrees:[],fullDegree:0,loading:!1,filter:{stage:"6",unit:null,examId:null,isExam:!1}}},computed:{units:function(){var t=this,e=this.$store.getters.sections.filter((function(e){return e.stage==t.filter.stage}));return e.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{number:t.number.toString()})}))},exams:function(){var t=this,e=this.allExams.filter((function(e){return e.unit==t.filter.unit}));return e}},methods:{doFilter:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.degrees=[],"user"===t.side?t.$store.getters.stage:t.filter.stage,t.loading=!0,e.next=5,u.a.post("/getUnitExamsFullDegree",t.filter);case 5:a=e.sent,t.fullDegree=a.data.fullDegree,u.a.post("/getStudentTotalDegree",t.filter).then((function(e){if(e.data.err)return t.$store.dispatch("writemessage",e.data.err);t.degrees=e.data.degrees})),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},getPercetage:function(t){return Math.round(t/this.fullDegree*100)}}},v=f,g=(a("013c"),a("2877")),m=Object(g["a"])(v,n,l,!1,null,"992cfa8a",null),p=m.exports,_={components:{StudentsOrder:p}},h=_,b=Object(g["a"])(h,r,s,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-b483b28a.ce5d326b.js.map